<!DOCTYPE html>
<html>
<head>
  <title>Mint Button</title>
</head>
<body>
  <button onclick="mintAlbum()">Mint Album</button>

  <script>
    const ethereumProvider = window.ethereum;
    ethereumProvider.chainId = '0x5'; // Goerli chain ID

    async function mintAlbum() {
      try {
        // Request access to the user's Ethereum accounts
        await ethereumProvider.request({ method: 'eth_requestAccounts' });

        const contractAddress = '0x2e1d608c7a5a14bc226217e9f9a7c914fa75bd2c'; // Replace with your contract address on the Goerli chain
        const contractABI = [
          {
            "inputs": [
              {
                "internalType": "uint256",
                "name": "token_num",
                "type": "uint256"
              },
              {
                "internalType": "uint256",
                "name": "mintcount",
                "type": "uint256"
              }
            ],
            "name": "mintAlbum",
            "outputs": [],
            "stateMutability": "payable",
            "type": "function"
          }
        ];

        const contract = {
          address: contractAddress,
          abi: contractABI,
          signature: contractABI[0].name + '(' + contractABI[0].inputs.map(input => input.type).join(',') + ')'
        };
        const tokenNumber = '1'; // Replace with the first input value
        const mintCount = '1'; // Replace with the second input value

        // Make the JSON-RPC call to the contract's mintAlbum function
        const result = await ethereumProvider.request({
          method: 'eth_sendTransaction',
          params: [
            {
              to: contract.address,
              data: contract.signature,
              arguments: [tokenNumber, mintCount],
            },
          ],
        });

        console.log('Transaction result:', result);
      } catch (error) {
        console.error('Error:', error);
      }
    }
  </script>
</body>
</html>
