<!DOCTYPE html>
<html>
<head>
  <title>Token List Comparison</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <div id="tokenList"></div>

  <script>
    // Predefined lists of wallet addresses for different tokens
    var gerbsList = ["0x7e8C38Ad50622c0b26906C9Cf81D2825fC78A38B", "0xabcdef123456"];
    var norliList = ["0x7e8C38Ad50622c0b26906C9Cf81D2825fC78A38B", "0xdef123456abc"];
    var bonesList = ["0x456789abcdef", "0x123456abcdef"];
    var tunesList = ["0x7e8C38Ad50622c0b26906C9Cf81D2825fC78A38B", "0xdefabc456789"];

    // Function to compare wallet address against token lists
    function compareTokenLists(walletAddress) {
      var tokensHeld = [];

      if (gerbsList.includes(walletAddress)) {
        tokensHeld.push("GERBS");
      }

      if (norliList.includes(walletAddress)) {
        tokensHeld.push("NORLI");
      }

      if (bonesList.includes(walletAddress)) {
        tokensHeld.push("BONES");
      }

      if (tunesList.includes(walletAddress)) {
        tokensHeld.push("TUNES");
      }

      return tokensHeld;
    }

    // Function to update the token list in the HTML
    function updateTokenList(tokens) {
      var tokenListElement = $("#tokenList");
      tokenListElement.empty();

      if (tokens.length === 0) {
        tokenListElement.text("No tokens found.");
      } else {
        tokenListElement.append("Tokens held: ");
        tokens.forEach(function(token, index) {
          tokenListElement.append(token);
          if (index !== tokens.length - 1) {
            tokenListElement.append(", ");
          }
        });
      }
    }

    // Function to fetch wallet address and compare token lists
    async function fetchWalletAddressAndCompare() {
      try {
        // Request access to the user's accounts
        //await window.ethereum.request({ method: 'eth_requestAccounts' });
        // Get the current wallet address
        //var accounts = await window.ethereum.request({ method: 'eth_accounts' });
        var walletAddress = '0x7e8C38Ad50622c0b26906C9Cf81D2825fC78A38B';//accounts[0];

        // Compare the wallet address against token lists
        var tokensHeld = compareTokenLists(walletAddress);

        // Update the token list in the HTML
        updateTokenList(tokensHeld);
      } catch (error) {
        console.log('Error fetching wallet address:', error);
      }
    }

    // Call the function to fetch wallet address and compare token lists
    fetchWalletAddressAndCompare();
  </script>
</body>
</html>
