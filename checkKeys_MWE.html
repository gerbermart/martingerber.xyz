<!DOCTYPE html>
<html>
<head>
  <title>Token Balance</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
</head>
<body>
  <h1>Token Balance</h1>
  <div id="balance"></div>

  <script>
    async function fetchTokenBalance(contractAddress, tokenId) {
      const apiKey = "ed9d98db566fd170d009f47e030293ec50a728efbde0581d7080738c7a305a17";
      const sha256 = CryptoJS.SHA256(apiKey).toString();

      const apiUrl = `https://api.opensea.io/api/v1/asset/${contractAddress}/${tokenId}/`;

      try {
        const tokenResponse = await fetch(apiUrl, {
          headers: {
            'X-API-KEY': sha256
          }
        });

        if (tokenResponse.ok) {
          const tokenData = await tokenResponse.json();
          const balance = tokenData.balance;

          // Display the token balance
          $('#balance').text(`Token Balance: ${balance}`);
        } else {
          throw new Error('Error fetching token balance: ' + tokenResponse.statusText);
        }
      } catch (error) {
        console.error('Error fetching token balance:', error);
      }
    }

    // Usage: Call the function with contract address and token ID
    fetchTokenBalance('0xd8fabd716eccbf98157f6728d3c187625a513127', '6');
  </script>
</body>
</html>
